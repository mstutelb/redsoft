"use strict";const getCartData=function(){return JSON.parse(localStorage.getItem("cart"))},setCartData=function(t){return localStorage.setItem("cart",JSON.stringify(t)),!1},changeButton=function(t){t.innerText="В корзине",t.disabled=!0,t.classList.remove("loading","btn-1","js-buy"),t.classList.remove("btn-1"),t.classList.remove("js-buy"),t.classList.add("btn-2")},checkProduct=function(){const t=document.querySelectorAll(".js-buy"),e=getCartData()||{};for(let a=0;a<t.length;a++){const n=t[a].dataset.id,s=t[a];e.hasOwnProperty(n)&&changeButton(s)}};checkProduct();const addToCart=function(t){var e,a=getCartData()||{};return a.hasOwnProperty(t)||(a[t]=t),e=a,localStorage.setItem("cart",JSON.stringify(e)),!1};document.addEventListener("click",function(t){if(t.target.classList.contains("js-buy")){const e=t.target,a=e.dataset.id;e.disabled=!0,e.classList.add("loading"),e.innerText="",axios.get("https://jsonplaceholder.typicode.com/posts/1").then(function(t){addToCart(a),changeButton(e)}).catch(function(t){alert("Ошибка")})}});const products=document.querySelectorAll(".product-list__item a");for(let t=0;t<products.length;t++){products[t].addEventListener("click",function(t){t.target.classList.contains("js-buy")&&t.preventDefault()})}